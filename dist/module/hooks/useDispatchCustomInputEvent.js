import{useRef as t,useCallback as e}from"react";import{unstable_batchedUpdates as n}from"react-dom";import r from"../utils/setInputAttributes.js";function u(u,l,c){var o=t(!0),i=e((function(t){if(null!==u.current&&l&&c){var e=u.current,i=e.value,a=e.selectionStart,s=e.selectionEnd;o.current=!1,setTimeout((function(){if(null!==u.current){r(u.current,{value:i,selectionStart:null!=a?a:i.length,selectionEnd:null!=s?s:i.length});var e=new CustomEvent(l,{bubbles:!0,cancelable:!1,composed:!0,detail:t});u.current.dispatchEvent(e),n?n(c,e):c(e),o.current=!0}}))}}),[u,l,c]);return[o,i]}export{u as default};
